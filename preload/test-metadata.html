<!DOCTYPE html>
<html>
<head>
<title>Preload with autoplay attribute test page</title>
</head>
<body>
<div>Checks whether the file metadat are downloaded when using preload=metadata</div>
<video preload='metadata' playsinline src='https://webkit.org/wp-content/uploads/forever.mp4' controls></video>
<script>
var video = document.querySelector('video');
video.addEventListener('loadedmetadata', () => {
  document.body.innerHTML += "<div>loadedmetadata</div>";
});
video.addEventListener('loadeddata', () => {
  document.body.innerHTML += "<div>loadeddata</div>";
});
video.addEventListener('canplay', () => {
  document.body.innerHTML += "<div>canplay</div>";
});
video.addEventListener('canplaythrough', () => {
  document.body.innerHTML += "<div>canplaythrough</div>";
});
</script>
</body>
</html>
